<!-- AR-47 -->
<div class="header">
  <div (click)="openProfile(true)" class="profile">
    <ion-menu-button fill="clear" class="menu-button" auto-hide="false">
      <ion-icon name="menu" slot="icon-only"></ion-icon>
    </ion-menu-button>

    <ion-avatar>
      <img alt="Silhouette of a person's head" src="https://i.pravatar.cc/500?img=11" />
    </ion-avatar>

    @if(user) {
    <div>
      <p class="color-primary m-0 body-xs bold">Bienvenido</p>
      <p class="color-dark m-0 body-sm ">{{ user.name.split(" ")[0] }} {{user.name.split(" ")[1]}}</p>
    </div>
    }
  </div>
  <div class="cart">
    <ion-button (click)="openCartComponent(true)" fill="outline" shape="round">
      <ion-icon slot="icon-only" name="cart-outline"></ion-icon>
    </ion-button>
    <ion-badge color="danger">{{ getProductsInCart() }}</ion-badge>
  </div>
</div>





<ion-modal [isOpen]="isProfileOpen">
  <ng-template>

    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="end">
          <ion-button (click)="openProfile(false)">Cerrar</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="p-26">
      <aromia-profile></aromia-profile>
    </ion-content>

  </ng-template>
</ion-modal>